---
source: Rmd
title: R and RStudio
teaching: 30
exercises: 0
---

```{r, include=FALSE}
```

::::::::::::::::::::::::::::::::::::::: Objetivos

- Descrever o propósito dos paineis do RStudio: Script, Console, Enviroment and Plots.
- Organizar arquivos e diretórios para um conjunto de análises como um projeto R, e entender o propósito do diretório de trabalho.
- Utilize a interface de ajuda integrada do RStudio para procurar mais informações sobre as funções do R.
- Demonstre como fornecer informações suficientes para solucionar problemas utilizando a comunidade de usuários do R.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: perguntas

- O que são o R e o RStudio?

::::::::::::::::::::::::::::::::::::::::::::::::::

## O que é o R? O que é RStudio?

O termo [R](https://www.r-project.org/) é utilizado para designar a
*linguagem de programação*, o *ambiente de computação estatística*
e o *software* que interpreta os scripts com essa linguagem.

[RStudio](https://rstudio.com) é atualmente uma forma muito popular não só de
escrever os seus scripts R mas também de interagir com o software R
[^plainr]. Para funcionar corretamente, o RStudio necessita do R e ambos têm de estar instalados no seu computador.

[^plainr]: Ao invés de usar R diretamente do console. Existem outros softwares que fazem a interface e integram
com o R, mas o RStudio é particularmente adequado para principiantes, ao mesmo tempo que oferece funcionalidades muito avançadas.

O [RStudio IDE Cheat
Sheet](https://raw.githubusercontent.com/rstudio/cheatsheets/main/rstudio-ide.pdf)
fornece muito mais informações do que serão abordadas aqui, mas pode ser
útil para aprender atalhos de teclado e descobrir novos recursos.

## Por que aprender R?

### R não envolve muitos cliques, e isso é bom

A curva de aprendizagem pode ser mais acentuada do que com outros softwares, mas com
R, os resultados da sua análise não dependem de se lembrar de uma
sucessão de cliques, mas sim de uma série de
comandos escritos e salvos, o que é bom! Assim, se quiser refazer
a sua análise porque obteve mais dados, não tem de se
lembrar em que botão clicou em qual ordem para obter os
resultados; basta executar novamente o script.

Trabalhar com scripts torna os passos utilizados na sua análise claros,
e o código que escreve pode ser inspecionado por outra pessoa que pode te dar
feedback e detectar erros.

Trabalhar com scrpts te obriga a ter uma compreensão mais profunda do que
está fazendo e facilita a sua aprendizagem e compreensão dos métodos utilizados.

### O código em R é ótimo para a reprodutibilidade

Reprodutibilidade significa que outra pessoa (incluindo o seu futuro eu) pode
obter os mesmos resultados do mesmo conjunto de dados ao utilizar o mesmo código de análise.

O R se integra com outras ferramentas para gerar manuscritos ou relatórios a partir do seu código. Se recolher mais dados ou corrigir um erro no seu conjunto de dados, as figuras
e os testes estatísticos no seu manuscrito ou relatório serão atualizados
automaticamente.

Um número crescente de revistas e agências de financiamento espera que as análises
sejam reprodutíveis, então o conhecimento de R te dará uma vantagem em relação a estes requisitos.

### O R é interdisciplinar e extensível

Com mais de 10000 pacotes [^whatarepkgs] que podem ser instalados para expandir as suas
capacidades, o R fornece uma estrutura que te permite combinar
abordagens estatísticas de muitas disciplinas científicas para melhor se adequar
à estrutura analítica que necessita para analisar os seus dados. Por exemplo, o
R tem pacotes para análise de imagens, GIS, séries temporais,
genética de populações e muito mais.

[^whatarepkgs]: ou seja, complementos que conferem ao R novas funcionalidades,
como a análise de dados de bioinformática.

```{r, fig.cap="Aumento exponencial do número de pacotes disponíveis em [CRAN](https://cran.r-project.org/), em inglês, a Comprehensive R Archive Network. From the R Journal, Volume 10/2, December 2018.", echo=FALSE, message=FALSE}
knitr::include_graphics("fig/cran.png")
```

### R funciona com dados de todas as formas e tamanhos

As skills que você aprende com R escalam facilmente com o tamanho do seu conjunto de dados. Mesmo que o seu conjunto de dados tenha centenas ou milhões de linhas,
não fará muita diferença para o R.

O R foi concebido para a análise de dados. Ele inclui estruturas de dados especiais
e tipos de dados que o tornam conveniente para o tratamento de dados em falta e de fatores estatísticos.

O R pode ligar-se a planilhas, bases de dados e muitos outros formatos de dados,
no seu computador ou na Web.

### R produz gráficos de alta qualidade

As funcionalidades de plotagem em R são extensas e o permitem ajustar
qualquer aspecto do seu gráfico para transmitir de forma mais eficaz a mensagem dos
seus dados.

### O R tem uma comunidade grande e acolhedora

Milhares de pessoas usam o R diariamente. Muitos deles estão dispostos a ajudá-lo
através de listas de email e sites como [Stack
Overflow](https://stackoverflow.com/), ou na [comunidade RStudio](https://community.rstudio.com/). Essas amplas comunidades de usuários
se estendem a áreas especializadas como a bioinformática. Um desses subconjuntos da comunidade R é o [Bioconductor](https://bioconductor.org/), um projeto científico para análise e compreensão "de dados biológicos atuais e emergentes Esta oficina foi desenvolvida por membros da comunidade Biocondutor; para mais informações sobre Bioconductor, por favor veja a oficina complementar ["O Projeto Biocondutor"](https://carpentries-incubator.github.io/bioc-project/).

### Não apenas R gratuito, mas também é de código aberto e multi-plataforma

Qualquer um pode inspecionar o código-fonte para ver como o R funciona. Por causa desta
transparência, há menos chances de erros e se você (ou
alguém fora) encontrar alguns, você pode relatar e corrigi-los.

## Conhecendo o RStudio

Vamos começar aprendendo sobre o [RStudio](https://www.rstudio.com/),
que é um Ambiente de Desenvolvimento Integrado (IDE) para trabalhar com
R.

O produto de código aberto RStudio IDE é gratuito sob a [Affero General
Public License (AGPL) v3](https://www.gnu.org/licenses/agpl-3.0.en.html).
O IDE RStudio também está disponível com uma licença comercial e
suporte prioritário por correio eletrónico da Posit, Inc.

Utilizaremos o IDE RStudio para escrever código, navegar nas pastas do nosso computador, inspecionar as variáveis que vamos criar e visualizar
os gráficos que vamos gerar. O RStudio também pode ser utilizado para outras coisas
(por exemplo, controlo de versões, desenvolvimento de pacotes, escrita de aplicações Shiny) que
não serão abordadas durante o workshop.

```{r, results="markup", fig.cap="RStudio interface screenshot. A partir do canto superior esquerdo: Source, Environment/History, Files/Plots/Packages/Help/Viewer, Console.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/rstudio-screenshot.png")
```

A janela do RStudio é dividida em 4 "Panes":

- o **Source** é para os seus scripts e documentos (canto superior esquerdo, na disposição predefinida)
- o seu **Environment/History** (canto superior direito),
- os seus **Files/Plots/Packages/Help/Viewer** (canto inferior direito), e
- o **Console** do R (canto inferior esquerdo).

A colocação destes painéis e seu conteúdo podem ser personalizados (ver
menu, `Tools -> Global Options-> Layout`).

Uma das vantagens de utilizar o RStudio é que toda a informação que
precisa para escrever código estára disponível numa única janela. Além disso, com
muitos atalhos, como **autocompletion**, e **highlight** para os principais tipos
de arquivo que você usa durante o desenvolvimento em R, O RStudio tornará a digitação
mais fácil e menos propensa a erros.

## Se rpeparando

É uma boa prática manter um conjunto de dados, análises e textos relacionados
contidos numa única pasta, chamada **working
directory**. Todos os scripts dentro desta pasta podem então utilizar
**relative paths** para ficheiros que indicam onde, dentro do projeto, um ficheiro
está localizado (em oposição aos caminhos absolutos, que apontam para onde um ficheiro
está num computador específico). Trabalhar desta forma torna muito
mais fácil mover o seu projeto no seu computador e compartilhá-lo com
outros sem se preocupar se os scripts subjacentes
ainda funcionarão ou não.

O RStudio fornece um conjunto útil de ferramentas para fazer isso através da sua interface "Projetos", que não só cria um diretório de trabalho para si, mas também se lembra
da sua localização (permitindo navegar rapidamente para ele) e, opcionalmente, preserva
definições personalizadas e ficheiros abertos para facilitar a retomada do trabalho após uma pausa. Siga os passos abaixo para criar um "R Project" para este tutorial.

1. Inicie o RStudio.
2. No menu `Arquivo` (File), clique em `Novo projeto`(New Project). Escolha `Novo diretório` (new directory), depois
  `Novo projeto` (new project).
3. Coloque um nome para esta nova pasta (ou "diretório") e escolha uma
  localização conveniente para a mesma. Este será o seu **diretório de trabalho**
  para esta sessão (ou todo o curso) (por exemplo, `bioc-intro`).
4. Clique em `create project`.
5. (Opcional) Defina Preferências para "Nunca" guardar o workspace no RStudio.

As preferências predefinidas do RStudio geralmente funcionam bem, mas guardar um espaço de trabalho em
.RData pode ser complicado, especialmente se estiver trabalhando com conjuntos de dados maiores.
Para desativar essa opção, vá a Ferramentas --> 'Opções globais' e selecione a opção 'Nunca'
para 'Guardar espaço de trabalho em .RData' ao sair.

```{r, results="markup", fig.cap="Set 'Save workspace to .RData on exit' to 'Never'", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudio-preferences.png")
```

Para evitar [problemas de codificação de caracteres entre o Windows e outros sistemas operativos
](https://yihui.name/en/2018/11/biggest-regret-knitr/), vamos
definir UTF-8 por defeito:

```{r, results="markup", fig.cap="Defina a codificação de texto por defeito para UTF-8 para nos poupar dores de cabeça no futuro. (Figura do link acima).", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/utf8.png")
```

### Organizando seu diretório de trabalho

Usar uma estrutura de pastas consistente em seus projetos ajudará a manter as coisas
organizadas, e também facilitará encontrar/arquivar coisas no futuro. Isto
pode ser especialmente útil quando se tem vários projetos. Em geral, criamos diretorios (pastas) para **scripts**, **dados** e **documentos**.

- **`data/`** Utilize esta pasta para armazenar os seus dados em bruto e conjuntos de dados intermédios
  que crie para uma análise específica. Por uma questão de
  transparência e
  [provenance](https://en.wikipedia.org/wiki/Provenance), deve
  *sempre* manter uma cópia dos seus dados brutos acessível e fazer o máximo possível de
  limpeza e pré-processamento de dados programaticamente (ou seja, com
  scripts, em vez de manualmente). Separar os dados em bruto
  dos dados processados é também uma boa ideia. Por exemplo, você poderia
  ter os arquivos `data/raw/tree_survey.plot1.txt` e `...plot2.txt` mantidos
  separados de um arquivo `data/processed/tree.survey.csv` gerado por
  o script `scripts/01.preprocess.tree_survey.R`.
- **`documents/`** Este é o local para guardar esboços, rascunhos,
  e outros textos.
- **`scripts/`** (ou `src`) Esta seria a localização para manter os seus scripts do R
  para diferentes análises ou gráficos, e potencialmente uma pasta
  separada para as suas funções (mais sobre isso mais tarde).

Você pode querer diretórios ou subdiretórios adicionais dependendo de
suas necessidades de projeto, mas eles devem formar a espinha dorsal do seu diretório
funcional.

```{r, results="markup", fig.cap="Exemplo de uma estrutura de diretório de trabalho.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/working-directory-structure.png")
```

Para este curso, precisaremos de uma pasta `data/` para armazenar nossos dados brutos,
e usaremos `data_output/` para quando aprendermos a exportar dados como
arquivos CSV, e a pasta `fig_output/` para as figuras que salvaremos.

::::::::::::::::::::::::::::::::::::: desafio

## Desafio: criar a estrutura de diretório de projeto

Sob a aba `Arquivos` à direita da tela, clique em `Nova Pasta` e
crie uma pasta chamada `data` dentro do seu diretório de trabalho
(e.., `~/bioc-intro/data`). (Alternativamente, digite `dir.create("data")` em
seu console R.) Repita estas operações para criar uma pasta `data_output/` e uma pasta
`fig_output`.


::::::::::::::::::::::::::::::::::::::::::

Vamos manter o script na raiz do nosso diretório de trabalho
para usar apenas um arquivo e tornar as coisas
mais fáceis.

O seu diretório de trabalho deve agora ter o seguinte aspecto:

```{r, results="markup", fig.cap="Como deve ser no início desta lição", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/r-starting-how-it-should-look-like.png")
```

**A gestão de projectos** é também aplicável para projetos de bioinformática,
do curso[^bioindatascience]. William Noble (@Noble:2009) propõe a
seguinte estrutura de directórios:

[^bioindatascience]: Neste curso, consideramos a bioinformática como
ciência de dados aplicada a dados biológicos ou biomédicos.

> Os nomes de diretório estão em maiúsculo, e os nomes de arquivos estão em minúsculo. Apenas um subconjunto dos arquivos é mostrado aqui. Note que as datas
> estão formatadas `<year>-<month>-<day>` para que possam ser
> ordenadas por ordem cronológica. O código fonte `src/ms-analysis.c`
> é compilado para criar `bin/ms-analysis` e é documentado em
> `doc/ms-analysis.html`. The `README` files in the data directories
> specify who downloaded the data files from what URL on what
> date. The driver script `results/2009-01-15/runall` automatically
> generates the three subdirectories split1, split2, and split3,
> corresponding to three cross-validation splits. The
> `bin/parse-sqt.py` script is called by both of the `runall` driver
> scripts.

```{r bioinfoproj, fig.cap="Directory structure for a sample bioinformatics project.", out.width="100%", echo=FALSE}
knitr::include_graphics("fig/noble-bioinfo-project.png")
```

The most important aspect of a well defined and well documented
project directory is to enable someone unfamiliar with the
project[^futureself] to

1. understand what the project is about, what data are available, what
  analyses were run, and what results were produced and, most
  importantly to

2. repeat the analysis over again - with new data, or changing some
  analysis parameters.

[^futureself]: That someone could be, and very likely will be your
future self, a couple of months or years after the analyses were
run.

### The working directory

The working directory is an important concept to understand. It is the
place from where R will be looking for and saving the files. When you
write code for your project, it should refer to files in relation to
the root of your working directory and only need files within this
structure.

Using RStudio projects makes this easy and ensures that your working
directory is set properly. If you need to check it, you can use
`getwd()`. If for some reason your working directory is not what it
should be, you can change it in the RStudio interface by navigating in
the file browser where your working directory should be, and clicking
on the blue gear icon `More`, and select `Set As Working Directory`.
Alternatively you can use `setwd("/path/to/working/directory")` to
reset your working directory. However, your scripts should not include
this line because it will fail on someone else's computer.

**Example**

The schema below represents the working directory `bioc-intro` with the
`data` and `fig_output` sub-directories, and 2 files in the latter:

```
bioc-intro/data/
          /fig_output/fig1.pdf
          /fig_output/fig2.png
```

If we were in the working directory, we could refer to the `fig1.pdf`
file using the relative path `bioc-intro/fig_output/fig1.pdf` or the
absolute path `/home/user/bioc-intro/fig_output/fig1.pdf`.

If we were in the `data` directory, we would use the relative path
`../fig_output/fig1.pdf` or the same absolute path
`/home/user/bioc-intro/fig_output/fig1.pdf`.

## Interacting with R

The basis of programming is that we write down instructions for the
computer to follow, and then we tell the computer to follow those
instructions. We write, or *code*, instructions in R because it is a
common language that both the computer and we can understand. We call
the instructions *commands* and we tell the computer to follow the
instructions by *executing* (also called *running*) those commands.

There are two main ways of interacting with R: by using the
**console** or by using **scripts** (plain text files that contain
your code). The console pane (in RStudio, the bottom left panel) is
the place where commands written in the R language can be typed and
executed immediately by the computer. It is also where the results
will be shown for commands that have been executed. You can type
commands directly into the console and press `Enter` to execute those
commands, but they will be forgotten when you close the session.

Because we want our code and workflow to be reproducible, it is better
to type the commands we want in the script editor, and save the
script. This way, there is a complete record of what we did, and
anyone (including our future selves!) can easily replicate the
results on their computer. Note, however, that merely typing the commands
in the script does not automatically *run* them - they still need to
be sent to the console for execution.

RStudio allows you to execute commands directly from the script editor
by using the `Ctrl` + `Enter` shortcut (on Macs, `Cmd` + `Return` will
work, too). The command on the current line in the script (indicated
by the cursor) or all of the commands in the currently selected text
will be sent to the console and executed when you press `Ctrl` +
`Enter`. You can find other keyboard shortcuts in this [RStudio
cheatsheet about the RStudio
IDE](https://raw.githubusercontent.com/rstudio/cheatsheets/main/rstudio-ide.pdf).

At some point in your analysis you may want to check the content of a
variable or the structure of an object, without necessarily keeping a
record of it in your script. You can type these commands and execute
them directly in the console.  RStudio provides the `Ctrl` + `1` and
`Ctrl` + `2` shortcuts allow you to jump between the script and the
console panes.

If R is ready to accept commands, the R console shows a `>` prompt. If
it receives a command (by typing, copy-pasting or sending from the script
editor using `Ctrl` + `Enter`), R will try to execute it, and when
ready, will show the results and come back with a new `>` prompt to
wait for new commands.

If R is still waiting for you to enter more data because it isn't
complete yet, the console will show a `+` prompt. It means that you
haven't finished entering a complete command. This is because you have
not 'closed' a parenthesis or quotation, i.e. you don't have the same
number of left-parentheses as right-parentheses, or the same number of
opening and closing quotation marks.  When this happens, and you
thought you finished typing your command, click inside the console
window and press `Esc`; this will cancel the incomplete command and
return you to the `>` prompt.

## How to learn more during and after the course?

The material we cover during this course will give you an initial
taste of how you can use R to analyse data for your own
research. However, you will need to learn more to do advanced
operations such as cleaning your dataset, using statistical methods,
or creating beautiful graphics[^inthiscoure]. The best way to become
proficient and efficient at R, as with any other tool, is to use it to
address your actual research questions. As a beginner, it can feel
daunting to have to write a script from scratch, and given that many
people make their code available online, modifying existing code to
suit your purpose might make it easier for you to get started.

[^inthiscoure]: We will introduce most of these (except statistics)
here, but will only manage to scratch the surface of the wealth of
what is possible to do with R.

```{r kitten, results="markup", echo=FALSE, purl=FALSE, out.width="400px", fig.align="center"}
knitr::include_graphics("fig/kitten-try-things.jpg")
```

## Seeking help

### Use the built-in RStudio help interface to search for more information on R functions

```{r rstudiohelp, fig.cap="RStudio help interface.", results="markup", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudiohelp.png")
```

One of the fastest ways to get help, is to use the RStudio help
interface. This panel by default can be found at the lower right hand
panel of RStudio. As seen in the screenshot, by typing the word
"Mean", RStudio tries to also give a number of suggestions that you
might be interested in. The description is then shown in the display
window.

### I know the name of the function I want to use, but I'm not sure how to use it

If you need help with a specific function, let's say `barplot()`, you
can type:

```{r, eval=FALSE, purl=TRUE}
?barplot
```

If you just need to remind yourself of the names of the arguments, you can use:

```{r, eval=FALSE, purl=TRUE}
args(lm)
```

### I want to use a function that does X, there must be a function for it but I don't know which one...

If you are looking for a function to do a particular task, you can use the
`help.search()` function, which is called by the double question mark `??`.
However, this only looks through the installed packages for help pages with a
match to your search request

```{r, eval=FALSE, purl=TRUE}
??kruskal
```

If you can't find what you are looking for, you can use
the [rdocumentation.org](https://www.rdocumentation.org) website that searches
through the help files across all packages available.

Finally, a generic Google or internet search "R \<task>" will often either send
you to the appropriate package documentation or a helpful forum where someone
else has already asked your question.

### I am stuck... I get an error message that I don't understand

Start by googling the error message. However, this doesn't always work very well
because often, package developers rely on the error catching provided by R. You
end up with general error messages that might not be very helpful to diagnose a
problem (e.g. "subscript out of bounds"). If the message is very generic, you
might also include the name of the function or package you're using in your
query.

However, you should check Stack Overflow. Search using the `[r]` tag. Most
questions have already been answered, but the challenge is to use the right
words in the search to find the
answers:

[http://stackoverflow.com/questions/tagged/r](https://stackoverflow.com/questions/tagged/r)

The [Introduction to R](https://cran.r-project.org/doc/manuals/R-intro.pdf) can
also be dense for people with little programming experience but it is a good
place to understand the underpinnings of the R language.

The [R FAQ](https://cran.r-project.org/doc/FAQ/R-FAQ.html) is dense and technical
but it is full of useful information.

### Asking for help

The key to receiving help from someone is for them to rapidly grasp
your problem. You should make it as easy as possible to pinpoint where
the issue might be.

Try to use the correct words to describe your problem. For instance, a
package is not the same thing as a library. Most people will
understand what you meant, but others have really strong feelings
about the difference in meaning. The key point is that it can make
things confusing for people trying to help you. Be as precise as
possible when describing your problem.

If possible, try to reduce what doesn't work to a simple *reproducible
example*. If you can reproduce the problem using a very small data
frame instead of your 50000 rows and 10000 columns one, provide the
small one with the description of your problem. When appropriate, try
to generalise what you are doing so even people who are not in your
field can understand the question. For instance instead of using a
subset of your real dataset, create a small (3 columns, 5 rows)
generic one. For more information on how to write a reproducible
example see [this article by Hadley
Wickham](https://adv-r.had.co.nz/Reproducibility.html).

To share an object with someone else, if it's relatively small, you
can use the function `dput()`. It will output R code that can be used
to recreate the exact same object as the one in memory:

```{r, results="show", purl=TRUE}
## iris is an example data frame that comes with R and head() is a
## function that returns the first part of the data frame
dput(head(iris))
```

If the object is larger, provide either the raw file (i.e., your CSV
file) with your script up to the point of the error (and after
removing everything that is not relevant to your
issue). Alternatively, in particular if your question is not related
to a data frame, you can save any R object to a file[^export]:

```{r, eval=FALSE, purl=FALSE}
saveRDS(iris, file="/tmp/iris.rds")
```

The content of this file is however not human readable and cannot be
posted directly on Stack Overflow. Instead, it can be sent to someone
by email who can read it with the `readRDS()` command (here it is
assumed that the downloaded file is in a `Downloads` folder in the
user's home directory):

```{r, eval=FALSE, purl=FALSE}
some_data <- readRDS(file="~/Downloads/iris.rds")
```

Last, but certainly not least, **always include the output of `sessionInfo()`**
as it provides critical information about your platform, the versions of R and
the packages that you are using, and other information that can be very helpful
to understand your problem.

```{r, results="show", purl=TRUE}
sessionInfo()
```

### Where to ask for help?

- The person sitting next to you during the course. Don't hesitate to
  talk to your neighbour during the workshop, compare your answers,
  and ask for help.
- Your friendly colleagues: if you know someone with more experience
  than you, they might be able and willing to help you.
- [Stack Overflow](https://stackoverflow.com/questions/tagged/r): if
  your question hasn't been answered before and is well crafted,
  chances are you will get an answer in less than 5 min. Remember to
  follow their guidelines on [how to ask a good
  question](https://stackoverflow.com/help/how-to-ask).
- The [R-help mailing
  list](https://stat.ethz.ch/mailman/listinfo/r-help): it is read by a
  lot of people (including most of the R core team), a lot of people
  post to it, but the tone can be pretty dry, and it is not always
  very welcoming to new users. If your question is valid, you are
  likely to get an answer very fast but don't expect that it will come
  with smiley faces. Also, here more than anywhere else, be sure to
  use correct vocabulary (otherwise you might get an answer pointing
  to the misuse of your words rather than answering your
  question). You will also have more success if your question is about
  a base function rather than a specific package.
- If your question is about a specific package, see if there is a
  mailing list for it. Usually it's included in the DESCRIPTION file
  of the package that can be accessed using
  `packageDescription("name-of-package")`. You may also want to try to
  email the author of the package directly, or open an issue on the
  code repository (e.g., GitHub).
- There are also some topic-specific mailing lists (GIS,
  phylogenetics, etc...), the complete list is
  [here](https://www.r-project.org/mail.html).

### More resources

- The [Posting Guide](https://www.r-project.org/posting-guide.html) for
  the R mailing lists.

- [How to ask for R
  help](https://blog.revolutionanalytics.com/2014/01/how-to-ask-for-r-help.html)
  useful guidelines.

- [This blog post by Jon
  Skeet](https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/)
  has quite comprehensive advice on how to ask programming questions.

- The [reprex](https://cran.rstudio.com/web/packages/reprex/) package
  is very helpful to create reproducible examples when asking for
  help. The rOpenSci community call "How to ask questions so they get
  answered" ([Github
  link](https://github.com/ropensci/commcalls/issues/14) and [video
  recording](https://vimeo.com/208749032)) includes a presentation of
  the reprex package and of its philosophy.

## R packages

### Loading packages

As we have seen above, R packages play a fundamental role in R. The
make use of a package's functionality, assuming it is installed, we
first need to load it to be able to use it. This is done with the
`library()` function. Below, we load `ggplot2`.

```{r loadp, eval=FALSE, purl=TRUE}
library("ggplot2")
```

### Installing packages

The default package repository is The *Comprehensive R Archive
Network* (CRAN), and any package that is available on CRAN can be
installed with the `install.packages()` function. Below, for example,
we install the `dplyr` package that we will learn about later.

```{r craninstall, eval=FALSE, purl=TRUE}
install.packages("dplyr")
```

This command will install the `dplyr` package as well as all its
dependencies, i.e. all the packages that it relies on to function.

Another major R package repository is maintained by Bioconductor. [Bioconductor packages](https://bioconductor.org/packages/release/BiocViews.html#___Software) are managed and installed using a dedicated package,
namely `BiocManager`, that can be installed from CRAN with

```{r, eval=FALSE, purl=TRUE}
install.packages("BiocManager")
```

Individual packages such as `SummarizedExperiment` (we will use it
later), `DESeq2` (for RNA-Seq analysis), and any others from either Bioconductor or CRAN can then be
installed with `BiocManager::install`.

```{r, eval=FALSE, purl=TRUE}
BiocManager::install("SummarizedExperiment")
BiocManager::install("DESeq2")
```

By default, `BiocManager::install()` will also check all your installed packages and see if there are newer versions available. If there are, it will show them to you and ask you if you want to `Update all/some/none? [a/s/n]:` and then wait for your answer. While you should strive to have the most up-to-date package versions, in practice we recommend only updating packages in a fresh R session before any packages are loaded.

:::::::::::::::::::::::::::::::::::::::: keypoints

- Start using R and RStudio

::::::::::::::::::::::::::::::::::::::::::::::::::
